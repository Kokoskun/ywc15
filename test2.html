 <html>
        <body>
            <input type="file" id="fileButton"/>

<h2>Face Rectangle</h2>
<ul id="faceRectangle">
<!-- Will populate list with response content -->
</ul>
<ul id="scores">
<!-- Will populate list with response content -->
</ul>


            <script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
            <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
            <script>
            // Initialize Firebase
                 var config = {
                    apiKey: "AIzaSyCos_A8Xjgbi33IPp8fI27VpabWLx6x5QI",
                    authDomain: "ywc15-187010.firebaseapp.com",
                    databaseURL: "https://ywc15-187010.firebaseio.com",
                    projectId: "ywc15-187010",
                    storageBucket: "ywc15-187010.appspot.com",
                    messagingSenderId: "87963932205"
                };
                firebase.initializeApp(config);
           </script>
           <script>
var fileButton = document.getElementById("fileButton");
fileButton.addEventListener('change',function(e){
    var file = e.target.files[0];
    var fileType = file["type"];
    var ValidImageTypes = ["image/jpeg"];
    if ($.inArray(fileType, ValidImageTypes) < 0) {
        console.log("Not Image");
    }else{


                  var storageRef = firebase.storage().ref(file.name);
                  storageRef.put(file).then(function(snapshot){

                  var imageSRC=snapshot['a']['downloadURLs'][0];





        var params = { };
        $.ajax({
            url: "https://westus.api.cognitive.microsoft.com/emotion/v1.0/recognize?" + $.param(params),
            beforeSend: function(xhrObj){
                // Request headers, also supports "application/octet-stream"
                xhrObj.setRequestHeader("Content-Type","application/json");

                // NOTE: Replace the "Ocp-Apim-Subscription-Key" value with a valid subscription key.
                xhrObj.setRequestHeader("Ocp-Apim-Subscription-Key","b1d769948a094847a3fd78c14446ae33");
            },
            type: "POST",
            // Request body
            data: '{"url": "'+imageSRC+'"}',
        }).done(function(data) {
            // Get face rectangle dimensions
            var faceRectangle = data[0].faceRectangle;
            var faceRectangleList = $('#faceRectangle');

            // Append to DOM
            for (var prop in faceRectangle) {
                faceRectangleList.append("<li> " + prop + ": " + faceRectangle[prop] + "</li>");
            }

            // Get emotion confidence scores
            var scores = data[0].scores;
            var scoresList = $('#scores');

            // Append to DOM
            for(var prop in scores) {
                scoresList.append("<li> " + prop + ": " + scores[prop] + "</li>")
            }
        }).fail(function(err) {
            alert("Error: " + JSON.stringify(err));
        });









                });







    }


              });  




           </script>
      </body>
</html>